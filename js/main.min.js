$(document).ready(function(){function a(){return q=Math.round(10*Math.random()),i=Math.round(10*Math.random()),r=q+i,r}function b(){let a=document.querySelectorAll(".contact-form label.error");a.forEach(function(a){a.style="display:none"})}function c(){let a=$(".contact-form").serialize();return $.ajax({type:"POST",url:"php/mail.php",data:a,success:function(a){$(".contact-form").slideUp(800),$("#answer").html(a)}}),!1}document.addEventListener("keydown",function(a){return!(a.ctrlKey&&(85===a.keyCode||117===a.keyCode))||void(a.preventDefault(),alert("\u0414\u043E\u0441\u0442\u0443\u043F \u043A \u0438\u0441\u0445\u043E\u0434\u043D\u043E\u043C\u0443 \u043A\u043E\u0434\u0443 \u0437\u0430\u043F\u0440\u0435\u0449\u0451\u043D!"))}),$("#page-nav").onePageNav({currentClass:"active-nav",changeHash:!1,scrollSpeed:750,scrollThreshold:.5,filter:"",easing:"swing",begin:function(){},end:function(){},scrollChange:function(){}});const d=document.querySelector(".toggle-menu"),e=document.querySelector(".mobile-menu"),f=document.querySelector("#overlay"),g=document.body.closest("html");d.addEventListener("click",function(){this.classList.toggle("active"),e.classList.toggle("active"),f.classList.toggle("active"),g.classList.toggle("noscroll")}),e.addEventListener("click",function(){this.classList.remove("active"),d.classList.remove("active"),f.classList.remove("active"),g.classList.remove("noscroll")}),f.addEventListener("click",function(){this.classList.remove("active"),d.classList.remove("active"),e.classList.remove("active"),g.classList.remove("noscroll")});let h=document.querySelector("#portfolio-projects");if(h){mixitup(h,{classNames:{block:""}})}const j=document.querySelectorAll(".portfolio-filter button"),k=document.querySelectorAll(".portfolio-card");for(let a=0;a<j.length;a++)j[a].addEventListener("click",function(){if(0==a)for(let a=0;2>a;a++)k[a].classList.add("portfolio-card--big");else for(let a=0;2>a;a++)k[a].classList.remove("portfolio-card--big")});const l=document.querySelectorAll(".form-input");for(let a of l){const b=a.closest(".form-item-row"),c=b.querySelector(".fake-placeholder");a.addEventListener("focus",function(){c.classList.add("active-field")}),a.addEventListener("blur",function(){0<a.value.length?c.classList.add("active-field"):c.classList.remove("active-field")})}let m=document.querySelector("#form-comment"),n=document.querySelector(".contacts-form__char-counter");m&&(m.addEventListener("focus",function(){n.classList.remove("transp-count")}),m.addEventListener("blur",function(){n.classList.add("transp-count")}));let o=480,p=document.querySelector("#form-char-counter");$(".contact-form textarea").keyup(function(){this.value.length>o?(this.value=this.value.substr(0,o),n.style="color:red; font-weight:700; font-size:16px"):this.value.length<o&&420<this.value.length?n.style="color:orange; font-weight:700; font-size:14px":this.value.length==o?n.style="color:red; font-weight:700; font-size:16px":this.value.length<o&&n.removeAttribute("style")}),$("#form-char-counter").html(480),$("#form-comment").keyup(function(){let a=this.value.length;this.value.length>o&&(this.value=this.value.substr(0,o));let b=o-a;0>=b?$("#form-char-counter").html("0"):$("#form-char-counter").html(b)});let q,i,r,s=document.querySelector(".contact-form"),t=document.querySelectorAll(".contact-form .fake-placeholder"),u=document.querySelector(".form-checkbox"),v=document.querySelector("#form-bot-row"),w=document.querySelector("#question-1-row"),z=document.querySelector("#question-2-row"),A=document.querySelector("#submit-btn"),B=document.querySelector("#reset-btn"),C=document.querySelector("#form-bot-placeholder-1"),D=document.querySelector("#form-bot-placeholder-2"),E=document.querySelector("#question-inp-1"),F=document.querySelector("#question-inp-2"),G=document.querySelector("#form-bot-question-1"),H=document.querySelector("#form-bot-question-2");u&&u.addEventListener("change",function(b){!0==b.target.checked?(a(),E.innerText=`${q} + ${i}?`,v.classList.remove("hidden"),w.classList.remove("hidden"),this.disabled=!0,G.addEventListener("input",function(a){let b=parseInt(a.target.value);return b===r?void(A.disabled=!0,w.classList.add("hidden"),z.classList.remove("hidden"),C.classList.remove("active-field"),G.blur(),H.focus(),u.disabled=!0):void(A.disabled=!0)})):(v.classList.add("hidden"),w.classList.add("hidden"),z.classList.add("hidden"))}),F&&(F.innerText=`России?`),H&&H.addEventListener("input",function(a){let b=a.target.value.toLowerCase();"\u043C\u043E\u0441\u043A\u0432\u0430"===b?(A.disabled=!1,v.classList.add("hidden"),s.setAttribute("method","POST"),s.setAttribute("action","./php/mail.php"),z.classList.add("hidden"),D.classList.remove("active-field"),H.blur()):A.disabled=!0}),G&&G.addEventListener("input",function(){this.value=this.value.replace(/[^+0-9]/g,"")}),H&&H.addEventListener("input",function(){this.value=this.value.replace(/[^А-Яа-я-]/g,"")}),B&&B.addEventListener("click",function(){u.disabled=!1,A.disabled=!1,t.forEach(function(a){a.classList.remove("active-field")}),v.classList.add("hidden"),w.classList.add("hidden"),z.classList.add("hidden"),n.removeAttribute("style"),p.innerText=o,s.removeAttribute("method","POST"),s.removeAttribute("action","./php/mail.php"),this.blur(),b()}),$(".contact-form")&&$(".contact-form").validate({rules:{userName:{required:!0,minlength:2},email:{required:!0,email:!0},subject:{required:!1},message:{required:!0},checkbox:{required:!0},botQuestion1:{required:!0,minlength:1,maxlength:2},botQuestion2:{required:!0,minlength:1,maxlength:6}},messages:{userName:{required:"\u0410 \u043A\u0430\u043A \u043A \u0412\u0430\u043C \u043E\u0431\u0440\u0430\u0449\u0430\u0442\u044C\u0441\u044F?!",minlength:"\u041E\u0448\u0438\u0431\u043A\u0430 \u0432\u0432\u043E\u0434\u0430!"},email:{required:"\u041E\u0431\u044F\u0437\u0430\u0442\u0435\u043B\u044C\u043D\u043E \u0443\u043A\u0430\u0436\u0438\u0442\u0435 \u0412\u0430\u0448 email!",email:"\u0412\u0432\u0435\u0434\u0435\u043D \u043D\u0435\u043A\u043E\u0440\u0440\u0435\u043A\u0442\u043D\u044B\u0439 \u0430\u0434\u0440\u0435\u0441 \u044D\u043B\u0435\u043A\u0442\u0440\u043E\u043D\u043D\u043E\u0439 \u043F\u043E\u0447\u0442\u044B!"},subject:{required:"\u0422\u0435\u043C\u0430 \u0441\u043E\u043E\u0431\u0449\u0435\u043D\u0438\u044F \u043D\u0435 \u0443\u043A\u0430\u0437\u0430\u043D\u0430!"},message:{required:"\u0410 \u0433\u0434\u0435, \u0441\u043E\u0431\u0441\u0442\u0432\u0435\u043D\u043D\u043E, \u0442\u0435\u043A\u0441\u0442 \u0412\u0430\u0448\u0435\u0433\u043E \u0441\u043E\u043E\u0431\u0449\u0435\u043D\u0438\u044F?!"},checkbox:{required:"\u0427\u0442\u043E\u0431\u044B \u043E\u0442\u043F\u0440\u0430\u0432\u0438\u0442\u044C \u0441\u043E\u043E\u0431\u0449\u0435\u043D\u0438\u0435, \u043D\u0443\u0436\u043D\u043E \u043F\u0440\u0438\u043D\u044F\u0442\u044C \u043F\u043E\u043B\u0438\u0442\u0438\u043A\u0443 \u043A\u043E\u043D\u0444\u0438\u0434\u0435\u043D\u0446\u0438\u0430\u043B\u044C\u043D\u043E\u0441\u0442\u0438!"},botQuestion1:{required:"\u041E\u0431\u044F\u0437\u0430\u0442\u0435\u043B\u044C\u043D\u043E\u0435 \u043F\u043E\u043B\u0435!",minlength:"\u041E\u0448\u0438\u0431\u043A\u0430 \u0432\u0432\u043E\u0434\u0430!",maxlength:"\u041E\u0448\u0438\u0431\u043A\u0430 \u0432\u0432\u043E\u0434\u0430!"},botQuestion2:{required:"\u041E\u0431\u044F\u0437\u0430\u0442\u0435\u043B\u044C\u043D\u043E\u0435 \u043F\u043E\u043B\u0435!",minlength:"\u041E\u0448\u0438\u0431\u043A\u0430 \u0432\u0432\u043E\u0434\u0430!",maxlength:"\u041E\u0448\u0438\u0431\u043A\u0430 \u0432\u0432\u043E\u0434\u0430!"}},submitHandler:function(){c()}});const I=document.querySelector(".portfolio-link"),J=document.querySelector(".portfolio-content"),K=document.querySelector(".link-1"),L=document.querySelector(".link-2");I&&I.addEventListener("click",function(){J.classList.toggle("show-all"),K.classList.toggle("link-1-hide"),L.classList.toggle("link-2-show")}),$(window).scroll(function(){$(window).scrollTop();319<$(this).width()&&(300<$(this).scrollTop()?$("#back2Top").fadeIn():$("#back2Top").fadeOut())}),$("#back2Top").click(function(a){return a.preventDefault(),$("html, body").animate({scrollTop:0},"slow"),!1}),$("#nashphone1").click(function(){$("#nashphone1").html("<a href=\"tel:+79787300414\">+7(978) 730 04 14</a>")})});